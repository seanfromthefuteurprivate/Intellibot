# WSB Snake - Frontend Architecture

## Current State

WSB Snake is currently a backend-only system with Telegram as the primary UI. This document describes the planned frontend architecture.

---

## Planned Architecture

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                      FRONTEND ARCHITECTURE                       โ
โ                                                                  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ                      REACT SPA                             โ  โ
โ  โ                   (Vite + TypeScript)                      โ  โ
โ  โ                                                            โ  โ
โ  โ  โโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโ        โ  โ
โ  โ  โ  Dashboard  โ  โ  Positions  โ  โ   Signals   โ        โ  โ
โ  โ  โ    Page     โ  โ    Page     โ  โ    Page     โ        โ  โ
โ  โ  โโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโ        โ  โ
โ  โ                                                            โ  โ
โ  โ  โโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโ        โ  โ
โ  โ  โ   Charts    โ  โ   Config    โ  โ   History   โ        โ  โ
โ  โ  โ    Page     โ  โ    Page     โ  โ    Page     โ        โ  โ
โ  โ  โโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโ        โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ                              โ                                   โ
โ                              โผ                                   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ                    STATE MANAGEMENT                        โ  โ
โ  โ                 (TanStack Query + Zustand)                 โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ                              โ                                   โ
โ                              โผ                                   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ                      API CLIENT                            โ  โ
โ  โ                  (REST + WebSocket)                        โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ                              โ                                   โ
โ                              โผ                                   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ                   WSB SNAKE BACKEND                        โ  โ
โ  โ                   (FastAPI on :5000)                       โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ                                                                  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## Technology Stack

| Layer | Technology | Purpose |
|-------|------------|---------|
| Framework | React 18 | UI components |
| Build | Vite | Fast dev/build |
| Language | TypeScript | Type safety |
| Styling | Tailwind CSS | Utility-first CSS |
| Components | shadcn/ui | Pre-built components |
| State | TanStack Query | Server state |
| State | Zustand | Client state |
| Routing | Wouter | Lightweight routing |
| Charts | Recharts | Data visualization |
| Icons | Lucide React | Icon library |

---

## Page Specifications

### 1. Dashboard Page

**Route:** `/`

**Components:**
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  HEADER                                                      โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  โ WSB Snake ๐ โ Status: Running โ Market: Open โ 3:45 PM โโ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  STATS CARDS                                                 โ
โ  โโโโโโโโโโโโ  โโโโโโโโโโโโ  โโโโโโโโโโโโ  โโโโโโโโโโโโ     โ
โ  โ  P&L     โ  โ  Win %   โ  โ  Trades  โ  โ Open Pos โ     โ
โ  โ  +$125   โ  โ   60%    โ  โ    5     โ  โ    2     โ     โ
โ  โโโโโโโโโโโโ  โโโโโโโโโโโโ  โโโโโโโโโโโโ  โโโโโโโโโโโโ     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  OPEN POSITIONS                                              โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  โ SPY CALLS โ Entry: $1.50 โ Current: $1.65 โ +10% ๐ข     โโ
โ  โ QQQ PUTS  โ Entry: $2.00 โ Current: $1.85 โ -7.5% ๐ด    โโ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  RECENT SIGNALS                                              โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  โ 3:40 PM โ AAPL โ VWAP_RECLAIM โ 78% โ AI โ โ EXECUTED  โโ
โ  โ 3:35 PM โ TSLA โ BREAKOUT     โ 65% โ AI โ โ ALERT     โโ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

**Data Sources:**
- `GET /api/stats` - P&L, win rate
- `GET /api/positions` - Open positions
- `GET /api/signals?limit=10` - Recent signals
- `WS /ws/updates` - Real-time updates

---

### 2. Positions Page

**Route:** `/positions`

**Components:**
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  OPEN POSITIONS TABLE                                        โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  โ Ticker โ Type โ Qty โ Entry โ Current โ P&L โ Actions   โโ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโคโ
โ  โ SPY    โCALLS โ  2  โ $1.50 โ  $1.65  โ+$30 โ [Close]   โโ
โ  โ QQQ    โPUTS  โ  1  โ $2.00 โ  $1.85  โ-$15 โ [Close]   โโ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  POSITION DETAILS (on select)                                โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  โ Symbol: SPY260128C00602000                               โโ
โ  โ Entry Time: 3:30:05 PM                                   โโ
โ  โ Target: $1.80 (+20%)                                     โโ
โ  โ Stop: $1.27 (-15%)                                       โโ
โ  โ Time Remaining: 12:45                                    โโ
โ  โ Pattern: VWAP_RECLAIM                                    โโ
โ  โ AI Confidence: 78%                                       โโ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  QUICK ACTIONS                                               โ
โ  [Close Selected] [Close All] [Refresh]                      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

### 3. Signals Page

**Route:** `/signals`

**Components:**
- Signal history table (paginated)
- Filter by: ticker, pattern, outcome
- Signal detail modal
- Chart preview

---

### 4. Charts Page

**Route:** `/charts`

**Components:**
- Real-time candlestick chart
- VWAP overlay
- Volume profile
- Signal markers
- Ticker selector

---

### 5. Config Page

**Route:** `/config`

**Components:**
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  TRADING CONFIGURATION                                       โ
โ                                                              โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  โ Alert Threshold         [====60====]                    โโ
โ  โ Auto-Execute Threshold  [====70====]                    โโ
โ  โ Max Per Trade           [$1,500]                        โโ
โ  โ Max Daily Exposure      [$6,000]                        โโ
โ  โ Max Concurrent          [5]                             โโ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                                                              โ
โ  AI CONFIGURATION                                            โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  โ OpenAI Enabled          [โ]                             โโ
โ  โ DeepSeek Enabled        [โ]                             โโ
โ  โ Daily AI Budget         [$5.00]                         โโ
โ  โ Sniper Mode             [โ]                             โโ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                                                              โ
โ  [Save Configuration]                                        โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## Component Library

Using shadcn/ui components:

| Component | Usage |
|-----------|-------|
| Card | Stats, position cards |
| Table | Positions, signals |
| Button | Actions |
| Input | Configuration |
| Slider | Thresholds |
| Switch | Toggles |
| Badge | Status indicators |
| Alert | Notifications |
| Dialog | Confirmations |
| Toast | Real-time updates |

---

## State Management

### Server State (TanStack Query)

```typescript
// Positions query
const { data: positions } = useQuery({
  queryKey: ['/api/positions'],
  refetchInterval: 5000, // Poll every 5s
});

// Signals query
const { data: signals } = useQuery({
  queryKey: ['/api/signals', { limit: 10 }],
});
```

### Client State (Zustand)

```typescript
interface AppState {
  selectedPosition: string | null;
  theme: 'light' | 'dark';
  sidebarOpen: boolean;
}

const useAppStore = create<AppState>((set) => ({
  selectedPosition: null,
  theme: 'dark',
  sidebarOpen: true,
  setSelectedPosition: (id) => set({ selectedPosition: id }),
}));
```

---

## Real-time Updates

### WebSocket Integration

```typescript
function useTradeUpdates() {
  const queryClient = useQueryClient();
  
  useEffect(() => {
    const ws = new WebSocket('ws://localhost:5000/ws/updates');
    
    ws.onmessage = (event) => {
      const update = JSON.parse(event.data);
      
      switch (update.type) {
        case 'position_update':
          queryClient.invalidateQueries(['/api/positions']);
          break;
        case 'signal':
          queryClient.invalidateQueries(['/api/signals']);
          toast({ title: `New signal: ${update.data.ticker}` });
          break;
      }
    };
    
    return () => ws.close();
  }, []);
}
```

---

## File Structure

```
client/
โโโ src/
โ   โโโ components/
โ   โ   โโโ ui/           # shadcn components
โ   โ   โโโ layout/       # Header, Sidebar
โ   โ   โโโ dashboard/    # Dashboard widgets
โ   โ   โโโ positions/    # Position components
โ   โ   โโโ charts/       # Chart components
โ   โโโ pages/
โ   โ   โโโ Dashboard.tsx
โ   โ   โโโ Positions.tsx
โ   โ   โโโ Signals.tsx
โ   โ   โโโ Charts.tsx
โ   โ   โโโ Config.tsx
โ   โ   โโโ History.tsx
โ   โโโ hooks/
โ   โ   โโโ usePositions.ts
โ   โ   โโโ useSignals.ts
โ   โ   โโโ useWebSocket.ts
โ   โโโ lib/
โ   โ   โโโ api.ts
โ   โ   โโโ queryClient.ts
โ   โโโ store/
โ   โ   โโโ appStore.ts
โ   โโโ App.tsx
โ   โโโ main.tsx
โโโ index.html
```

---

## Implementation Status

| Feature | Status |
|---------|--------|
| Backend API | โ Implemented |
| Dashboard | ๐ฒ Planned |
| Positions | ๐ฒ Planned |
| Signals | ๐ฒ Planned |
| Charts | ๐ฒ Planned |
| Config | ๐ฒ Planned |
| WebSocket | ๐ฒ Planned |

Current UI: **Telegram Bot Only**
